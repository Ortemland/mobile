# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Firebase Console

1. –û—Ç–∫—Ä–æ–π [Firebase Console](https://console.firebase.google.com/)
2. –ù–∞–∂–º–∏ **"–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"** –∏–ª–∏ **"Create a project"**
3. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: **ScreenTime Reward**
4. –ù–∞–∂–º–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"** (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Google Analytics)
5. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**

## –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –í Firebase Console –æ—Ç–∫—Ä–æ–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É **Android** (üü¢) –∏–ª–∏ **"–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"** ‚Üí **Android**
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
   - **–ò–º—è –ø–∞–∫–µ—Ç–∞ Android**: `com.screentime.reward`
   - **–ü—Å–µ–≤–¥–æ–Ω–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: `ScreenTime Reward` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç SHA-1**: –ø–æ–∫–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å (–Ω—É–∂–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
4. –ù–∞–∂–º–∏ **"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

## –®–∞–≥ 3: –°–∫–∞—á–∞—Ç—å google-services.json

1. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–∫–∞—á–∞–π —Ñ–∞–π–ª `google-services.json`
2. **–í–ê–ñ–ù–û!** –ó–∞–º–µ–Ω–∏ —Ñ–∞–π–ª `app/google-services.json` –≤ –ø—Ä–æ–µ–∫—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º
3. –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–¥–µ—Å—å: `/app/google-services.json`

## –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firestore Database

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏ –≤ **Firestore Database** (–≤ –º–µ–Ω—é —Å–ª–µ–≤–∞)
2. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"**
3. –í—ã–±–µ—Ä–∏ **"–ù–∞—á–∞—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ"** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. –í—ã–±–µ—Ä–∏ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π –∫ —Ç–µ–±–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä: `eur3`)
5. –ù–∞–∂–º–∏ **"–í–∫–ª—é—á–∏—Ç—å"**

## –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore

1. –ü–µ—Ä–µ–π–¥–∏ –≤ **"–ü—Ä–∞–≤–∏–ª–∞"** –≤ Firestore Database
2. –ó–∞–º–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Ÿæ€åÿØÿß –¥–ª—è —Å–µ–º–µ–π
    match /families/{familyId} {
      // –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ–º (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
      allow read, write: if true;
      
      // –ó–∞—è–≤–∫–∏ –Ω–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
      match /pendingApprovals/{taskId} {
        allow read, write: if true;
      }
    }
  }
}
```

3. –ù–∞–∂–º–∏ **"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"**

## –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firebase Authentication (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏ –≤ **Authentication**
2. –ù–∞–∂–º–∏ **"–ù–∞—á–∞—Ç—å"**
3. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏–ª–∏ Email/Password

## –®–∞–≥ 7: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

1. –í Android Studio –Ω–∞–∂–º–∏ **File ‚Üí Sync Project with Gradle Files**
2. –î–æ–∂–¥–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–±–µ–¥–∏—Å—å:
- –§–∞–π–ª `app/google-services.json` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Å–∫–∞—á–∞–Ω–Ω—ã–π
- Firebase BOM –¥–æ–±–∞–≤–ª–µ–Ω –≤ `app/build.gradle.kts`
- –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Firestore

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Firestore –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
families/
  ‚îî‚îÄ‚îÄ {familyId}/
      ‚îú‚îÄ‚îÄ familyId: string
      ‚îú‚îÄ‚îÄ adultDeviceId: string
      ‚îú‚îÄ‚îÄ childDeviceId: string
      ‚îú‚îÄ‚îÄ connectionCode: string (6 —Ü–∏—Ñ—Ä)
      ‚îú‚îÄ‚îÄ isActive: boolean
      ‚îî‚îÄ‚îÄ pendingApprovals/
          ‚îî‚îÄ‚îÄ {taskId}/
              ‚îú‚îÄ‚îÄ taskId: string
              ‚îú‚îÄ‚îÄ taskName: string
              ‚îú‚îÄ‚îÄ timeMinutes: number
              ‚îú‚îÄ‚îÄ timestamp: timestamp
              ‚îú‚îÄ‚îÄ childDeviceId: string
              ‚îî‚îÄ‚îÄ status: string (pending/approved/rejected)
```

## üö® –í–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–í –±—É–¥—É—â–µ–º –Ω—É–∂–Ω–æ:
1. –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ Firestore –Ω–∞ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ
2. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Firebase Cloud Messaging)
4. –î–æ–±–∞–≤–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–∞–∑–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

